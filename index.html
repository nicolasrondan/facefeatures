<html>
<head>

<style>
img {
  float: left;
  width: 200px;
  height: 60px;
  background: #555;
}

canvas {
 
  display : block;   
  margin : auto;
  text-align: center;
}

h1 {
  width: 320px;
  height:50px;
  
  
  margin: 0px auto;
  text-align: center;
}

</style>

<div class="header">
  <img src="img/logo.png" alt="logo" />
  <h1>Face landmarks test</h1>
</div>

</head>
<body>

<div id="container">

	<video id="video_src" playsinline autoplay></video>
	<canvas id="canvas_dest" ></canvas>
</div>
	
<script type="text/javascript">	
	
	var _0x97b5=["\x76\x69\x64\x65\x6F\x5F\x73\x72\x63","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x63\x61\x6E\x76\x61\x73\x5F\x73\x72\x63","\x63\x61\x6E\x76\x61\x73","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x63\x61\x6E\x76\x61\x73\x5F\x64\x65\x73\x74","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x73\x74\x72\x65\x61\x6D","\x73\x72\x63\x4F\x62\x6A\x65\x63\x74","\x6E\x61\x76\x69\x67\x61\x74\x6F\x72\x2E\x4D\x65\x64\x69\x61\x44\x65\x76\x69\x63\x65\x73\x2E\x67\x65\x74\x55\x73\x65\x72\x4D\x65\x64\x69\x61\x20\x65\x72\x72\x6F\x72\x3A\x20","\x6D\x65\x73\x73\x61\x67\x65","\x6E\x61\x6D\x65","\x6C\x6F\x67","\x76\x69\x64\x65\x6F\x57\x69\x64\x74\x68","\x76\x69\x64\x65\x6F\x48\x65\x69\x67\x68\x74","\x77\x69\x64\x74\x68","\x68\x65\x69\x67\x68\x74","\x63\x72\x65\x61\x74\x65\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x2F\x64\x61\x74\x61\x2F\x63\x6F\x6E\x66\x69\x67\x2E\x6A\x73\x6F\x6E","\x75\x74\x66\x38","\x72\x65\x61\x64\x46\x69\x6C\x65","\x63\x61\x6E\x70\x6C\x61\x79","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x63\x61\x74\x63\x68","\x74\x68\x65\x6E","\x67\x65\x74\x55\x73\x65\x72\x4D\x65\x64\x69\x61","\x6D\x65\x64\x69\x61\x44\x65\x76\x69\x63\x65\x73","\x64\x72\x61\x77\x49\x6D\x61\x67\x65","\x67\x65\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x73\x75\x62\x61\x72\x72\x61\x79","\x48\x45\x41\x50\x55\x38","\x64\x61\x74\x61","\x73\x65\x74","\x70\x72\x6F\x63\x65\x73\x73","\x70\x75\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x64\x65\x6C\x65\x74\x65","\x70\x61\x75\x73\x65","\x73\x74\x6F\x70","\x67\x65\x74\x56\x69\x64\x65\x6F\x54\x72\x61\x63\x6B\x73","\x2F","\x2F\x64\x61\x74\x61","\x63\x6F\x6E\x66\x69\x67\x2E\x6A\x73\x6F\x6E","\x2E\x2F\x64\x61\x74\x61\x2F\x63\x6F\x6E\x66\x69\x67\x2E\x6A\x73\x6F\x6E","\x68\x61\x61\x72\x63\x61\x73\x63\x61\x64\x65\x5F\x66\x72\x6F\x6E\x74\x61\x6C\x66\x61\x63\x65\x5F\x61\x6C\x74\x32\x2E\x78\x6D\x6C","\x2E\x2F\x64\x61\x74\x61\x2F\x68\x61\x61\x72\x63\x61\x73\x63\x61\x64\x65\x5F\x66\x72\x6F\x6E\x74\x61\x6C\x66\x61\x63\x65\x5F\x61\x6C\x74\x32\x2E\x78\x6D\x6C","\x73\x68\x61\x70\x65\x5F\x70\x72\x65\x64\x69\x63\x74\x6F\x72\x5F\x35\x35\x5F\x66\x61\x63\x65\x5F\x6C\x61\x6E\x64\x6D\x61\x72\x6B\x73\x2E\x64\x61\x74","\x2E\x2F\x64\x61\x74\x61\x2F\x73\x68\x61\x70\x65\x5F\x70\x72\x65\x64\x69\x63\x74\x6F\x72\x5F\x35\x35\x5F\x66\x61\x63\x65\x5F\x6C\x61\x6E\x64\x6D\x61\x72\x6B\x73\x2E\x64\x61\x74"];let streaming=false;let heap_img_buffer=null;let frameProcessor=null;const video=document[_0x97b5[1]](_0x97b5[0]);let imgBpp=4;const canvas_src=window[_0x97b5[2]]= document[_0x97b5[4]](_0x97b5[3]);const canvas_dest=window[_0x97b5[2]]= document[_0x97b5[1]](_0x97b5[5]);let imageDataOut=null;let canvas_src_ctx=canvas_src[_0x97b5[7]](_0x97b5[6]);let canvas_dest_ctx=canvas_dest[_0x97b5[7]](_0x97b5[6]);const constraints={audio:false,video:true};function handleSuccess(_0xf416xd){window[_0x97b5[8]]= _0xf416xd;video[_0x97b5[9]]= _0xf416xd}function handleError(_0xf416xf){console[_0x97b5[13]](_0x97b5[10],_0xf416xf[_0x97b5[11]],_0xf416xf[_0x97b5[12]])}function initSystem(){var _0xf416x11=video[_0x97b5[14]];var _0xf416x12=video[_0x97b5[15]];canvas_src[_0x97b5[16]]= _0xf416x11;canvas_src[_0x97b5[17]]= _0xf416x12;canvas_dest[_0x97b5[16]]= _0xf416x11;canvas_dest[_0x97b5[17]]= _0xf416x12;canvas_src_ctx= canvas_src[_0x97b5[7]](_0x97b5[6]);canvas_dest_ctx= canvas_dest[_0x97b5[7]](_0x97b5[6]);imageDataOut= canvas_dest_ctx[_0x97b5[18]](_0xf416x11,_0xf416x12);let _0xf416x13=FS[_0x97b5[21]](_0x97b5[19],{encoding:_0x97b5[20]});frameProcessor=  new Module.FrameProcessor(_0xf416x13);heap_img_buffer= Module._malloc(canvas_src[_0x97b5[16]]* canvas_src[_0x97b5[17]]* imgBpp)}function initCapture(){video[_0x97b5[23]](_0x97b5[22],function(_0xf416x15){if(!streaming){initSystem();streaming= true};drawFrame()});navigator[_0x97b5[27]][_0x97b5[26]](constraints)[_0x97b5[25]](handleSuccess)[_0x97b5[24]](handleError)}function drawFrame(){let _0xf416x17=canvas_src[_0x97b5[16]];let _0xf416x18=canvas_src[_0x97b5[17]];canvas_src_ctx[_0x97b5[28]](video,0,0,_0xf416x17,_0xf416x18);let _0xf416x19=canvas_src_ctx[_0x97b5[29]](0,0,_0xf416x17,_0xf416x18);let _0xf416x1a=Module[_0x97b5[31]][_0x97b5[30]](heap_img_buffer,heap_img_buffer+ (_0xf416x17* _0xf416x18* imgBpp));_0xf416x1a[_0x97b5[33]](_0xf416x19[_0x97b5[32]]);frameProcessor[_0x97b5[34]](heap_img_buffer,_0xf416x17,_0xf416x18,imgBpp);imageDataOut[_0x97b5[32]][_0x97b5[33]](_0xf416x1a);canvas_dest_ctx[_0x97b5[35]](imageDataOut,0,0,0,0,_0xf416x17,_0xf416x18);requestAnimationFrame(drawFrame)}function endCapture(){if(!streaming){return};if(frameProcessor){frameProcessor[_0x97b5[36]]();frameProcessor= null};video[_0x97b5[37]]();video[_0x97b5[9]]= null;stream[_0x97b5[39]]()[0][_0x97b5[38]]();streaming= false}function main(){startCamera(function(){startVideoProcessing()})}var Module={"\x70\x72\x65\x52\x75\x6E":function(){Module.FS_createFolder(_0x97b5[40],_0x97b5[32],true,true);Module.FS_createPreloadedFile(_0x97b5[41],_0x97b5[42],_0x97b5[43],true,false);Module.FS_createPreloadedFile(_0x97b5[41],_0x97b5[44],_0x97b5[45],true,false);Module.FS_createPreloadedFile(_0x97b5[41],_0x97b5[46],_0x97b5[47],true,false)},"\x6F\x6E\x52\x75\x6E\x74\x69\x6D\x65\x49\x6E\x69\x74\x69\x61\x6C\x69\x7A\x65\x64":function(){initCapture()}}
</script>
<script async src="test_ems_frame_proc.js"></script>
</body>
</html>